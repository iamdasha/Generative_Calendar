{"ast":null,"code":"import { sample, getRandomArbitrary } from '../prototypes/utilities';\nimport { model } from '../prototypes/prototype_26/model';\nimport { setBackgroundColorClass, getLargeCircleStore, setLargeCircleStore } from '../prototypes/prototype_26/store';\n\nNumber.prototype.times = function (cb) {\n  var i = -1;\n\n  while (++i < this) {\n    cb(i);\n  }\n\n  return +this;\n};\n\nvar container;\n\nfunction generateLargeCircle() {\n  return new Promise(function (resolve, reject) {\n    var largeCircleStore = getLargeCircleStore();\n    var _model$largeCircles = model.largeCircles,\n        sides = _model$largeCircles.sides,\n        sizes = _model$largeCircles.sizes;\n    var vSides = Object.keys(sides.vSides);\n    var hSides = Object.keys(sides.hSides);\n    var sizeKeys = Object.keys(sizes) // prettier-ignore\n    ;\n    2 .times(function (i) {\n      var vSide = sample(vSides);\n      var hSide = sample(hSides);\n      var size = sample(sizeKeys);\n      var vSideParams = sides.vSides[vSide];\n      var hSideParams = sides.hSides[hSide];\n      var sizeParams = sizes[size];\n      var sizeInPixels = getRandomArbitrary(sizeParams.from, sizeParams.to) + 'px'; // console.log('SIDES', vSide, hSide)\n      // Генерируем HTML\n\n      var circle = document.createElement('div');\n      circle.classList.add('largeCircle');\n\n      if (vSide === 'top') {\n        circle.style.top = getRandomArbitrary(vSideParams.from, vSideParams.to) + 'px';\n      }\n\n      if (vSide === 'bottom') {\n        circle.style.bottom = getRandomArbitrary(vSideParams.from, vSideParams.to) + 'px';\n      }\n\n      if (hSide === 'left') {\n        circle.style.left = getRandomArbitrary(hSideParams.from, hSideParams.to) + 'px';\n      }\n\n      if (hSide === 'right') {\n        circle.style.right = getRandomArbitrary(hSideParams.from, hSideParams.to) + 'px';\n      }\n\n      circle.style.width = sizeInPixels;\n      circle.style.height = sizeInPixels;\n      container.appendChild(circle); // Обновляем данные\n\n      vSides.splice(vSides.indexOf(vSide), 1);\n      hSides.splice(hSides.indexOf(hSide), 1); // console.log(vSides, hSides)\n    });\n    resolve();\n  });\n}\n\nfunction generateBackground() {\n  return new Promise(function (resolve, reject) {\n    var background = sample(model.background);\n    container.classList.add(background);\n    setBackgroundColorClass(background);\n    resolve();\n  });\n}\n\nfunction generateText() {\n  var _model$texts = model.texts,\n      strings = _model$texts.strings,\n      sides = _model$texts.sides;\n  var string = sample(strings);\n  var side = sample(sides);\n  var wrapper = document.createElement('div');\n  wrapper.classList.add('textWrapper');\n  wrapper.classList.add(side);\n  var text = document.createElement('div');\n  text.innerText = string;\n  text.contentEditable = true;\n  text.classList.add('text');\n  wrapper.appendChild(text);\n  container.appendChild(wrapper);\n}\n\nfunction generateStory() {\n  // prettier-ignore\n  generateBackground().then(generateLargeCircle).then(generateText);\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  container = document.getElementById('prototype_26');\n  generateStory();\n});","map":{"version":3,"names":["sample","getRandomArbitrary","model","setBackgroundColorClass","getLargeCircleStore","setLargeCircleStore","Number","prototype","times","cb","i","container","generateLargeCircle","Promise","resolve","reject","largeCircleStore","largeCircles","sides","sizes","vSides","Object","keys","hSides","sizeKeys","vSide","hSide","size","vSideParams","hSideParams","sizeParams","sizeInPixels","from","to","circle","document","createElement","classList","add","style","top","bottom","left","right","width","height","appendChild","splice","indexOf","generateBackground","background","generateText","texts","strings","string","side","wrapper","text","innerText","contentEditable","generateStory","then","addEventListener","getElementById"],"sources":["/Users/daria/Documents/Generative_Calendar/app/javascript/packs/prototype_26.js"],"sourcesContent":["import { sample, getRandomArbitrary } from '../prototypes/utilities'\n\nimport { model } from '../prototypes/prototype_26/model'\n\nimport {\n  setBackgroundColorClass,\n  getLargeCircleStore,\n  setLargeCircleStore\n} from '../prototypes/prototype_26/store'\n\nNumber.prototype.times = function (cb) {\n  var i = -1\n\n  while (++i < this) {\n    cb(i)\n  }\n\n  return +this\n}\n\nlet container\n\nfunction generateLargeCircle() {\n  return new Promise((resolve, reject) => {\n    const largeCircleStore = getLargeCircleStore()\n    const { sides, sizes } = model.largeCircles\n    const vSides = Object.keys(sides.vSides)\n    const hSides = Object.keys(sides.hSides)\n    const sizeKeys = Object.keys(sizes)\n\n    // prettier-ignore\n    ;(2).times((i) => {\n      const vSide = sample(vSides)\n      const hSide = sample(hSides)\n      const size = sample(sizeKeys)\n\n      const vSideParams = sides.vSides[vSide]\n      const hSideParams = sides.hSides[hSide]\n      const sizeParams = sizes[size]\n      const sizeInPixels = getRandomArbitrary(sizeParams.from, sizeParams.to) + 'px'\n      // console.log('SIDES', vSide, hSide)\n\n      // Генерируем HTML\n\n      const circle = document.createElement('div')\n      circle.classList.add('largeCircle')\n\n      if (vSide === 'top') {\n        circle.style.top = getRandomArbitrary(vSideParams.from, vSideParams.to) + 'px'\n      }\n\n      if (vSide === 'bottom') {\n        circle.style.bottom = getRandomArbitrary(vSideParams.from, vSideParams.to) + 'px'\n      }\n\n      if (hSide === 'left') {\n        circle.style.left = getRandomArbitrary(hSideParams.from, hSideParams.to) + 'px'\n      }\n\n      if (hSide === 'right') {\n        circle.style.right = getRandomArbitrary(hSideParams.from, hSideParams.to) + 'px'\n      }\n\n      circle.style.width = sizeInPixels\n      circle.style.height = sizeInPixels\n\n      container.appendChild(circle)\n\n      // Обновляем данные\n\n      vSides.splice(vSides.indexOf(vSide), 1)\n      hSides.splice(hSides.indexOf(hSide), 1)\n\n      // console.log(vSides, hSides)\n    })\n\n    resolve()\n  })\n}\n\nfunction generateBackground() {\n  return new Promise((resolve, reject) => {\n    const background = sample(model.background)\n    container.classList.add(background)\n    setBackgroundColorClass(background)\n\n    resolve()\n  })\n}\n\nfunction generateText() {\n  const { strings, sides } = model.texts\n  const string = sample(strings)\n  const side = sample(sides)\n\n  const wrapper = document.createElement('div')\n  wrapper.classList.add('textWrapper')\n  wrapper.classList.add(side)\n\n  const text = document.createElement('div')\n  text.innerText = string\n  text.contentEditable = true\n  text.classList.add('text')\n\n  wrapper.appendChild(text)\n  container.appendChild(wrapper)\n}\n\nfunction generateStory() {\n  // prettier-ignore\n  generateBackground()\n    .then(generateLargeCircle)\n    .then(generateText)\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  container = document.getElementById('prototype_26')\n  generateStory()\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}