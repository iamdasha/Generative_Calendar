{"ast":null,"code":"import p5 from 'p5';\nimport { getRandomArbitrary } from '../prototypes/utilities';\nvar prototypeId = 'prototype_42';\nvar canvas = {};\nvar colorSwitch = false;\nvar clearCanvas = false;\nvar x, y, width, height, hue, saturation, brightness;\n\nfunction calcHue(percent) {\n  return Math.floor(percent * 3.6);\n}\n\nfunction sketch(p) {\n  p.setup = function () {\n    hue = getRandomArbitrary(0, 360);\n    brightness = getRandomArbitrary(0, 100);\n    canvas.element = p.createCanvas(canvas.width, canvas.height);\n    canvas.element.parent(prototypeId);\n    p.frameRate(30);\n    p.background(0);\n    p.colorMode(p.HSB);\n  };\n\n  p.draw = function () {\n    width = getRandomArbitrary(20, 80);\n    height = getRandomArbitrary(20, 80);\n    x = getRandomArbitrary(0, canvas.width - width);\n    y = getRandomArbitrary(0, canvas.height - height);\n\n    if (clearCanvas) {\n      p.background(0);\n      clearCanvas = false;\n    }\n\n    if (colorSwitch) {\n      saturation = getRandomArbitrary(0, 100);\n      brightness = getRandomArbitrary(0, 100);\n      p.fill(hue, saturation, brightness);\n    } else {\n      p.fill(hue, 0, brightness);\n    }\n\n    p.rect(x, y, width, height);\n  };\n}\n\nfunction renderUI() {\n  var wrapper = document.createElement('div');\n  wrapper.classList.add('wrapper');\n  var sliderWrapper = document.createElement('div');\n  sliderWrapper.classList.add('sliderWrapper');\n  var slider = document.createElement('input');\n  slider.classList.add('slider');\n  slider.type = 'range';\n  slider.step = 1;\n  slider.min = 0;\n  slider.max = 100;\n  slider.value = brightness;\n  slider.addEventListener('input', function (e) {\n    if (colorSwitch) {\n      hue = calcHue(e.target.value);\n    } else {\n      brightness = e.target.value;\n    }\n  });\n  var toggleSwitch = document.createElement('div');\n  toggleSwitch.classList.add('toggleSwitch');\n  toggleSwitch.innerText = 'Toggle Color';\n  toggleSwitch.addEventListener('click', function () {\n    toggleSwitch.classList.toggle('active');\n    colorSwitch = !colorSwitch;\n\n    if (colorSwitch) {\n      slider.value = calcHue(e.target.value);\n    } else {\n      slider.value = brightness;\n    }\n  });\n  var resetButton = document.createElement('div');\n  resetButton.classList.add('resetButton');\n  resetButton.innerText = 'Clear';\n  resetButton.addEventListener('click', function () {\n    clearCanvas = true;\n  });\n  sliderWrapper.appendChild(slider);\n  wrapper.appendChild(sliderWrapper);\n  wrapper.appendChild(toggleSwitch);\n  wrapper.appendChild(resetButton);\n  document.body.appendChild(wrapper);\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  canvas.width = window.innerWidth;\n  canvas.height = window.innerHeight;\n  new p5(sketch);\n  setTimeout(renderUI, 300);\n});","map":{"version":3,"names":["p5","getRandomArbitrary","prototypeId","canvas","colorSwitch","clearCanvas","x","y","width","height","hue","saturation","brightness","calcHue","percent","Math","floor","sketch","p","setup","element","createCanvas","parent","frameRate","background","colorMode","HSB","draw","fill","rect","renderUI","wrapper","document","createElement","classList","add","sliderWrapper","slider","type","step","min","max","value","addEventListener","e","target","toggleSwitch","innerText","toggle","resetButton","appendChild","body","window","innerWidth","innerHeight","setTimeout"],"sources":["/Users/daria/Documents/MySynth copy/app/javascript/packs/prototype_42.js"],"sourcesContent":["import p5 from 'p5'\nimport { getRandomArbitrary } from '../prototypes/utilities'\n\nconst prototypeId = 'prototype_42'\nconst canvas = {}\n\nlet colorSwitch = false\nlet clearCanvas = false\n\nlet x, y, width, height, hue, saturation, brightness\n\nfunction calcHue(percent) {\n  return Math.floor(percent * 3.6)\n}\n\nfunction sketch(p) {\n  p.setup = () => {\n    hue = getRandomArbitrary(0, 360)\n    brightness = getRandomArbitrary(0, 100)\n\n    canvas.element = p.createCanvas(canvas.width, canvas.height)\n    canvas.element.parent(prototypeId)\n\n    p.frameRate(30)\n    p.background(0)\n    p.colorMode(p.HSB)\n  }\n\n  p.draw = () => {\n    width = getRandomArbitrary(20, 80)\n    height = getRandomArbitrary(20, 80)\n\n    x = getRandomArbitrary(0, canvas.width - width)\n    y = getRandomArbitrary(0, canvas.height - height)\n\n    if (clearCanvas) {\n      p.background(0)\n      clearCanvas = false\n    }\n\n    if (colorSwitch) {\n      saturation = getRandomArbitrary(0, 100)\n      brightness = getRandomArbitrary(0, 100)\n      p.fill(hue, saturation, brightness)\n    } else {\n      p.fill(hue, 0, brightness)\n    }\n\n    p.rect(x, y, width, height)\n  }\n}\n\nfunction renderUI() {\n  const wrapper = document.createElement('div')\n  wrapper.classList.add('wrapper')\n\n  const sliderWrapper = document.createElement('div')\n  sliderWrapper.classList.add('sliderWrapper')\n\n  const slider = document.createElement('input')\n  slider.classList.add('slider')\n  slider.type = 'range'\n  slider.step = 1\n  slider.min = 0\n  slider.max = 100\n  slider.value = brightness\n\n  slider.addEventListener('input', (e) => {\n    if (colorSwitch) {\n      hue = calcHue(e.target.value)\n    } else {\n      brightness = e.target.value\n    }\n  })\n\n  const toggleSwitch = document.createElement('div')\n  toggleSwitch.classList.add('toggleSwitch')\n  toggleSwitch.innerText = 'Toggle Color'\n\n  toggleSwitch.addEventListener('click', () => {\n    toggleSwitch.classList.toggle('active')\n    colorSwitch = !colorSwitch\n\n    if (colorSwitch) {\n      slider.value = calcHue(e.target.value)\n    } else {\n      slider.value = brightness\n    }\n  })\n\n  const resetButton = document.createElement('div')\n  resetButton.classList.add('resetButton')\n  resetButton.innerText = 'Clear'\n\n  resetButton.addEventListener('click', () => {\n    clearCanvas = true\n  })\n\n  sliderWrapper.appendChild(slider)\n  wrapper.appendChild(sliderWrapper)\n  wrapper.appendChild(toggleSwitch)\n  wrapper.appendChild(resetButton)\n  document.body.appendChild(wrapper)\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  canvas.width = window.innerWidth\n  canvas.height = window.innerHeight\n\n  new p5(sketch)\n\n  setTimeout(renderUI, 300)\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}