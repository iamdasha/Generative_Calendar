{"ast":null,"code":"// hypno circles\nimport p5 from 'p5';\nimport { sample, getRandomArbitrary } from '../prototypes/utilities';\nvar canvasSize = 700;\nvar tileAmount = 10;\nvar r = canvasSize / tileAmount;\nvar colors = ['#62FFF6', '#FF6287', '#25D96D', '#FF7A00', '#DFFF1D', '#FFFFFF'];\n\nfunction sketch(p) {\n  var calendar = document.createElement('div');\n  calendar.setAttribute('id', 'month-calendar');\n  sketch.appendChild(calendar);\n  var month = document.createElement('ul');\n  month.classList.add('month');\n  calendar.appendChild(month);\n  var m = document.createElement('li');\n  m.classList.add('month-name');\n  month.appendChild(m);\n  var y = document.createElement('li');\n  y.classList.add('year-name');\n  month.appendChild(y);\n  var weekdays = document.createElement('ul');\n  weekdays.classList.add('weekdays');\n  calendar.appendChild(weekdays);\n  var dayName = ['M', 'T', 'W', 'T', 'F', 'S', 'S'];\n\n  for (var i = 0; i < 7; i++) {\n    var li = document.createElement('li');\n    li.innerHTML = dayName[i];\n    weekdays.appendChild(li);\n  }\n\n  var days = document.createElement('ul');\n  days.classList.add('days');\n  calendar.appendChild(days);\n  var date = ['1', '2', '...', '31'];\n\n  for (var _i = 0; _i < 4; _i++) {\n    var _li = document.createElement('li');\n\n    _li.innerHTML = date[_i];\n    days.appendChild(_li);\n  }\n\n  var prev = document.createElement('div');\n  prev.classList.add('prev');\n  prev.innerText = 'Предыдущий';\n  calendar.appendChild(prev);\n  var next = document.createElement('div');\n  next.classList.add('next');\n  next.innerText = 'Следующий';\n  calendar.appendChild(next);\n  var nowDate = new Date(),\n      nowDateNumber = nowDate.getDate(),\n      nowMonth = nowDate.getMonth(),\n      nowYear = nowDate.getFullYear(),\n      container = document.getElementById('month-calendar'),\n      monthContainer = container.getElementsByClassName('month-name')[0],\n      yearContainer = container.getElementsByClassName('year-name')[0],\n      daysContainer = container.getElementsByClassName('days')[0],\n      monthName = ['JANUARY', 'FEBRUARY', 'MARCH', 'APRIL', 'MAY', 'JUNE', 'JULY', 'AUGUST', 'SEPTEMBER', 'OCTOBER', 'NOVEMBER', 'DECEMBER'];\n\n  p.setup = function () {\n    var canvas = p.createCanvas(canvasSize, canvasSize);\n    canvas.parent('prototype_44');\n    p.background(255);\n    p.noStroke();\n    generateCalendar();\n  };\n\n  p.draw = function () {};\n\n  function generateCalendar() {\n    var curDate = nowDate.setMonth(nowDate.getMonth() - 1);\n    console.log(nowDate.getFullYear());\n\n    function setMonthCalendar(year, month) {\n      var monthDays = new Date(year, month + 1, 0).getDate(),\n          monthPrefix = new Date(year, month, 0).getDay(),\n          monthDaysText = '';\n      monthContainer.textContent = monthName[month];\n      yearContainer.textContent = year;\n      daysContainer.innerHTML = '';\n\n      if (monthPrefix > 0) {\n        for (var _i2 = 1; _i2 <= monthPrefix; _i2++) {\n          monthDaysText += '<li></li>';\n        }\n      }\n\n      for (var _i3 = 1; _i3 <= monthDays; _i3++) {\n        monthDaysText += '<li>' + _i3 + '</li>';\n      }\n\n      daysContainer.innerHTML = monthDaysText;\n\n      if (month == nowMonth && year == nowYear) {\n        days = daysContainer.getElementsByTagName('li');\n        days[monthPrefix + nowDateNumber - 1].classList.add('date-now');\n      }\n    }\n\n    setMonthCalendar(nowYear, nowMonth);\n\n    prev.onclick = function () {\n      var curDate = new Date(yearContainer.textContent, monthName.indexOf(monthContainer.textContent));\n      curDate.setMonth(curDate.getMonth() - 1);\n      var curYear = curDate.getFullYear(),\n          curMonth = curDate.getMonth();\n      setMonthCalendar(curYear, curMonth);\n    };\n\n    next.onclick = function () {\n      var curDate = new Date(yearContainer.textContent, monthName.indexOf(monthContainer.textContent));\n      curDate.setMonth(curDate.getMonth() + 1);\n      var curYear = curDate.getFullYear(),\n          curMonth = curDate.getMonth();\n      setMonthCalendar(curYear, curMonth);\n    };\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  new p5(sketch);\n});","map":{"version":3,"names":["p5","sample","getRandomArbitrary","canvasSize","tileAmount","r","colors","sketch","p","calendar","document","createElement","setAttribute","appendChild","month","classList","add","m","y","weekdays","dayName","i","li","innerHTML","days","date","prev","innerText","next","nowDate","Date","nowDateNumber","getDate","nowMonth","getMonth","nowYear","getFullYear","container","getElementById","monthContainer","getElementsByClassName","yearContainer","daysContainer","monthName","setup","canvas","createCanvas","parent","background","noStroke","generateCalendar","draw","curDate","setMonth","console","log","setMonthCalendar","year","monthDays","monthPrefix","getDay","monthDaysText","textContent","getElementsByTagName","onclick","indexOf","curYear","curMonth","addEventListener"],"sources":["/Users/daria/Documents/MySynth copy/app/javascript/packs/prototype_44.js"],"sourcesContent":["// hypno circles\n\nimport p5 from 'p5'\nimport { sample, getRandomArbitrary } from '../prototypes/utilities'\n\nconst canvasSize = 700\nlet tileAmount = 10\nlet r = canvasSize / tileAmount\nlet colors = ['#62FFF6', '#FF6287', '#25D96D', '#FF7A00', '#DFFF1D', '#FFFFFF']\n\n\n\nfunction sketch(p) {\n  let calendar = document.createElement('div')\ncalendar.setAttribute('id', 'month-calendar')\nsketch.appendChild(calendar)\n\nlet month = document.createElement('ul')\nmonth.classList.add('month')\ncalendar.appendChild(month)\n\nlet m = document.createElement('li')\nm.classList.add('month-name')\nmonth.appendChild(m)\n\nlet y = document.createElement('li')\ny.classList.add('year-name')\nmonth.appendChild(y)\n\nlet weekdays = document.createElement('ul')\nweekdays.classList.add('weekdays')\ncalendar.appendChild(weekdays)\n\nlet dayName = ['M', 'T', 'W', 'T', 'F', 'S', 'S']\n\nfor (let i = 0; i < 7; i++) {\n  let li = document.createElement('li')\n  li.innerHTML = dayName[i]\n  weekdays.appendChild(li)\n}\n\nlet days = document.createElement('ul')\ndays.classList.add('days')\ncalendar.appendChild(days)\n\nlet date = ['1', '2', '...', '31']\n\nfor (let i = 0; i < 4; i++) {\n  let li = document.createElement('li')\n  li.innerHTML = date[i]\n  days.appendChild(li)\n}\n\nconst prev = document.createElement('div')\nprev.classList.add('prev')\nprev.innerText = 'Предыдущий'\ncalendar.appendChild(prev)\n\nconst next = document.createElement('div')\nnext.classList.add('next')\nnext.innerText = 'Следующий'\ncalendar.appendChild(next)\n\nlet nowDate = new Date(),\n  nowDateNumber = nowDate.getDate(),\n  nowMonth = nowDate.getMonth(),\n  nowYear = nowDate.getFullYear(),\n  container = document.getElementById('month-calendar'),\n  monthContainer = container.getElementsByClassName('month-name')[0],\n  yearContainer = container.getElementsByClassName('year-name')[0],\n  daysContainer = container.getElementsByClassName('days')[0],\n  monthName = [\n    'JANUARY',\n    'FEBRUARY',\n    'MARCH',\n    'APRIL',\n    'MAY',\n    'JUNE',\n    'JULY',\n    'AUGUST',\n    'SEPTEMBER',\n    'OCTOBER',\n    'NOVEMBER',\n    'DECEMBER'\n  ]\n  p.setup = () => {\n    const canvas = p.createCanvas(canvasSize, canvasSize)\n    canvas.parent('prototype_44')\n    p.background(255)\n    p.noStroke()\n    generateCalendar()\n  }\n\n  p.draw = () => {}\n\n  function generateCalendar() {\n    let curDate = nowDate.setMonth(nowDate.getMonth() - 1)\n    console.log(nowDate.getFullYear())\n\n    function setMonthCalendar(year, month) {\n      let monthDays = new Date(year, month + 1, 0).getDate(),\n        monthPrefix = new Date(year, month, 0).getDay(),\n        monthDaysText = ''\n\n      monthContainer.textContent = monthName[month]\n      yearContainer.textContent = year\n      daysContainer.innerHTML = ''\n\n      if (monthPrefix > 0) {\n        for (let i = 1; i <= monthPrefix; i++) {\n          monthDaysText += '<li></li>'\n        }\n      }\n\n      for (let i = 1; i <= monthDays; i++) {\n        monthDaysText += '<li>' + i + '</li>'\n      }\n\n      daysContainer.innerHTML = monthDaysText\n\n      if (month == nowMonth && year == nowYear) {\n        days = daysContainer.getElementsByTagName('li')\n        days[monthPrefix + nowDateNumber - 1].classList.add('date-now')\n      }\n    }\n\n    setMonthCalendar(nowYear, nowMonth)\n\n    prev.onclick = function () {\n      let curDate = new Date(\n        yearContainer.textContent,\n        monthName.indexOf(monthContainer.textContent)\n      )\n\n      curDate.setMonth(curDate.getMonth() - 1)\n\n      let curYear = curDate.getFullYear(),\n        curMonth = curDate.getMonth()\n\n      setMonthCalendar(curYear, curMonth)\n    }\n\n    next.onclick = function () {\n      let curDate = new Date(\n        yearContainer.textContent,\n        monthName.indexOf(monthContainer.textContent)\n      )\n\n      curDate.setMonth(curDate.getMonth() + 1)\n\n      let curYear = curDate.getFullYear(),\n        curMonth = curDate.getMonth()\n\n      setMonthCalendar(curYear, curMonth)\n    }\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  new p5(sketch)\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}