{"ast":null,"code":"// hypno circles\nimport p5 from 'p5';\nimport { sample, getRandomArbitrary } from '../prototypes/utilities';\nvar canvasSize = 700;\nvar tileAmount = 10;\nvar r = canvasSize / tileAmount;\nvar colors = ['#62FFF6', '#FF6287', '#25D96D', '#FF7A00', '#DFFF1D', '#FFFFFF'];\nvar calendar = document.createElement('div');\ncalendar.setAttribute('id', \"month-calendar\");\ndocument.body.appendChild(calendar);\nvar month = document.createElement('ul');\nmonth.classList.add(\"month\");\ncalendar.appendChild(month);\nvar m = document.createElement('li');\nm.classList.add(\"month-name\");\nmonth.appendChild(m);\nvar y = document.createElement('li');\ny.classList.add(\"year-name\");\nmonth.appendChild(y);\nvar weekdays = document.createElement('ul');\nweekdays.classList.add(\"weekdays\");\ncalendar.appendChild(weekdays);\nvar dayName = [\"M\", \"T\", \"W\", \"T\", \"F\", \"S\", \"S\"];\n\nfor (var i = 0; i < 7; i++) {\n  var li = document.createElement('li');\n  li.innerHTML = dayName[i];\n  weekdays.appendChild(li);\n}\n\nvar days = document.createElement('ul');\ndays.classList.add(\"days\");\ncalendar.appendChild(days);\nvar date = [\"1\", \"2\", \"...\", \"31\"];\n\nfor (var _i = 0; _i < 4; _i++) {\n  var _li = document.createElement('li');\n\n  _li.innerHTML = date[_i];\n  days.appendChild(_li);\n}\n\nvar prev = document.createElement('div');\nprev.classList.add('prev');\nprev.innerText = 'Предыдущий';\ncalendar.appendChild(prev);\nvar next = document.createElement('div');\nnext.classList.add('next');\nnext.innerText = 'Следующий';\ncalendar.appendChild(next);\nvar nowDate = new Date(),\n    nowDateNumber = nowDate.getDate(),\n    nowMonth = nowDate.getMonth(),\n    nowYear = nowDate.getFullYear(),\n    container = document.getElementById(\"month-calendar\"),\n    monthContainer = container.getElementsByClassName(\"month-name\")[0],\n    yearContainer = container.getElementsByClassName(\"year-name\")[0],\n    daysContainer = container.getElementsByClassName(\"days\")[0],\n    monthName = [\"JANUARY\", \"FEBRUARY\", \"MARCH\", \"APRIL\", \"MAY\", \"JUNE\", \"JULY\", \"AUGUST\", \"SEPTEMBER\", \"OCTOBER\", \"NOVEMBER\", \"DECEMBER\"];\n\nfunction sketch(p) {\n  p.setup = function () {\n    var canvas = p.createCanvas(canvasSize, canvasSize);\n    canvas.parent('prototype_44');\n    p.background(255);\n    p.noStroke();\n    generateCalendar();\n  };\n\n  p.draw = function () {};\n\n  function generateCalendar() {\n    var curDate = nowDate.setMonth(nowDate.getMonth() - 1);\n    console.log(nowDate.getFullYear());\n\n    function setMonthCalendar(year, month) {\n      var monthDays = new Date(year, month + 1, 0).getDate(),\n          monthPrefix = new Date(year, month, 0).getDay(),\n          monthDaysText = \"\";\n      monthContainer.textContent = monthName[month];\n      yearContainer.textContent = year;\n      daysContainer.innerHTML = \"\";\n\n      if (monthPrefix > 0) {\n        for (var _i2 = 1; _i2 <= monthPrefix; _i2++) {\n          monthDaysText += \"<li></li>\";\n        }\n      }\n\n      for (var _i3 = 1; _i3 <= monthDays; _i3++) {\n        monthDaysText += \"<li>\" + _i3 + \"</li>\";\n      }\n\n      daysContainer.innerHTML = monthDaysText;\n\n      if (month == nowMonth && year == nowYear) {\n        days = daysContainer.getElementsByTagName(\"li\");\n        days[monthPrefix + nowDateNumber - 1].classList.add(\"date-now\");\n      }\n    }\n\n    setMonthCalendar(nowYear, nowMonth);\n\n    prev.onclick = function () {\n      var curDate = new Date(yearContainer.textContent, monthName.indexOf(monthContainer.textContent));\n      curDate.setMonth(curDate.getMonth() - 1);\n      var curYear = curDate.getFullYear(),\n          curMonth = curDate.getMonth();\n      setMonthCalendar(curYear, curMonth);\n    };\n\n    next.onclick = function () {\n      var curDate = new Date(yearContainer.textContent, monthName.indexOf(monthContainer.textContent));\n      curDate.setMonth(curDate.getMonth() + 1);\n      var curYear = curDate.getFullYear(),\n          curMonth = curDate.getMonth();\n      setMonthCalendar(curYear, curMonth);\n    };\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  new p5(sketch);\n});","map":{"version":3,"names":["p5","sample","getRandomArbitrary","canvasSize","tileAmount","r","colors","calendar","document","createElement","setAttribute","body","appendChild","month","classList","add","m","y","weekdays","dayName","i","li","innerHTML","days","date","prev","innerText","next","nowDate","Date","nowDateNumber","getDate","nowMonth","getMonth","nowYear","getFullYear","container","getElementById","monthContainer","getElementsByClassName","yearContainer","daysContainer","monthName","sketch","p","setup","canvas","createCanvas","parent","background","noStroke","generateCalendar","draw","curDate","setMonth","console","log","setMonthCalendar","year","monthDays","monthPrefix","getDay","monthDaysText","textContent","getElementsByTagName","onclick","indexOf","curYear","curMonth","addEventListener"],"sources":["/Users/daria/Documents/MySynth copy/app/javascript/packs/prototype_44.js"],"sourcesContent":["// hypno circles\n\nimport p5 from 'p5'\nimport { sample, getRandomArbitrary } from '../prototypes/utilities'\n\nconst canvasSize = 700\nlet tileAmount = 10\nlet r = canvasSize/tileAmount\nlet colors = ['#62FFF6', '#FF6287', '#25D96D', '#FF7A00', '#DFFF1D', '#FFFFFF']\n\nlet calendar = document.createElement('div')\n    calendar.setAttribute('id', \"month-calendar\")\n    document.body.appendChild(calendar)\n    \n    let month = document.createElement('ul');\n    month.classList.add(\"month\")\n    calendar.appendChild(month)\n    \n    let m = document.createElement('li');\n    m.classList.add(\"month-name\")\n    month.appendChild(m)\n    \n    let y = document.createElement('li');\n    y.classList.add(\"year-name\")\n    month.appendChild(y)\n    \n    let weekdays = document.createElement('ul');\n    weekdays.classList.add(\"weekdays\")\n    calendar.appendChild(weekdays)\n    \n    let dayName = [\"M\", \"T\", \"W\", \"T\", \"F\", \"S\", \"S\"]\n    \n    for(let i=0;i<7;i++) {\n      let li = document.createElement('li')\n      li.innerHTML=dayName[i];\n      weekdays.appendChild(li);\n    }\n    \n    let days = document.createElement('ul');\n    days.classList.add(\"days\")\n    calendar.appendChild(days)\n    \n    let date = [\"1\", \"2\", \"...\", \"31\"]\n    \n    for(let i=0;i<4;i++) {\n      let li = document.createElement('li')\n      li.innerHTML=date[i];\n      days.appendChild(li);\n    }\n    \n    const prev = document.createElement('div')\n      prev.classList.add('prev')\n      prev.innerText = 'Предыдущий'\n      calendar.appendChild(prev)\n    \n      const next = document.createElement('div')\n      next.classList.add('next')\n      next.innerText = 'Следующий'\n      calendar.appendChild(next)\n    \n          let nowDate = new Date(),\n            nowDateNumber = nowDate.getDate(),\n            nowMonth = nowDate.getMonth(),\n            nowYear = nowDate.getFullYear(),\n            container = document.getElementById(\"month-calendar\"),\n            monthContainer = container.getElementsByClassName(\"month-name\")[0],\n            yearContainer = container.getElementsByClassName(\"year-name\")[0],\n            daysContainer = container.getElementsByClassName(\"days\")[0],\n            monthName = [\n              \"JANUARY\",\n              \"FEBRUARY\",\n              \"MARCH\",\n              \"APRIL\",\n              \"MAY\",\n              \"JUNE\",\n              \"JULY\",\n              \"AUGUST\",\n              \"SEPTEMBER\",\n              \"OCTOBER\",\n              \"NOVEMBER\",\n              \"DECEMBER\",\n            ];\n\nfunction sketch(p) {\n  \n  p.setup = () => {\n    const canvas = p.createCanvas(canvasSize, canvasSize)\n    canvas.parent('prototype_44')\n    p.background(255)\n    p.noStroke()\n    generateCalendar()\n  }\n\n  p.draw = () => {\n    \n  }\n\n  function generateCalendar() {\n    \n    \n          let curDate = nowDate.setMonth(nowDate.getMonth() - 1);\n          console.log(nowDate.getFullYear());\n    \n          function setMonthCalendar(year, month) {\n            let monthDays = new Date(year, month + 1, 0).getDate(),\n              monthPrefix = new Date(year, month, 0).getDay(),\n              monthDaysText = \"\";\n    \n            monthContainer.textContent = monthName[month];\n            yearContainer.textContent = year;\n            daysContainer.innerHTML = \"\";\n    \n            if (monthPrefix > 0) {\n              for (let i = 1; i <= monthPrefix; i++) {\n                monthDaysText += \"<li></li>\";\n              }\n            }\n    \n            for (let i = 1; i <= monthDays; i++) {\n              monthDaysText += \"<li>\" + i + \"</li>\";\n            }\n    \n            daysContainer.innerHTML = monthDaysText;\n    \n            if (month == nowMonth && year == nowYear) {\n              days = daysContainer.getElementsByTagName(\"li\");\n              days[monthPrefix + nowDateNumber - 1].classList.add(\"date-now\");\n            }\n          }\n    \n          setMonthCalendar(nowYear, nowMonth);\n    \n          prev.onclick = function () {\n            let curDate = new Date(\n              yearContainer.textContent,\n              monthName.indexOf(monthContainer.textContent)\n            );\n    \n            curDate.setMonth(curDate.getMonth() - 1);\n    \n            let curYear = curDate.getFullYear(),\n              curMonth = curDate.getMonth();\n    \n            setMonthCalendar(curYear, curMonth);\n          };\n    \n          next.onclick = function () {\n            let curDate = new Date(\n              yearContainer.textContent,\n              monthName.indexOf(monthContainer.textContent)\n            );\n    \n            curDate.setMonth(curDate.getMonth() + 1);\n    \n            let curYear = curDate.getFullYear(),\n              curMonth = curDate.getMonth();\n    \n            setMonthCalendar(curYear, curMonth);\n          };\n    \n        }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  new p5(sketch)\n})\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}