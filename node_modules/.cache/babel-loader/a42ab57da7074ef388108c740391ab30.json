{"ast":null,"code":"import p5 from 'p5';\nimport { getStoreShift, getStoreEnthropy, getStoreEffect, getStoreSave, getStoreName } from './store';\nimport { getRandomArbitrary } from '../utilities';\nimport myFontUrl from '../../../assets/fonts/MT.ttf';\nvar myFont;\n\nfunction preload(p) {\n  myFont = p.loadFont(myFontUrl);\n}\n\nvar myR = getRandomArbitrary(0, 255);\nvar myG = getRandomArbitrary(0, 255);\nvar myB = getRandomArbitrary(0, 255);\nvar canvasContainerId1 = '';\nvar canvasContainerId2 = '';\nvar canvasContainerId3 = '';\nvar x, y, w, h;\nvar totalShapeCount = 3;\nvar black = 30;\nvar white = 210;\n\nfunction getMyData() {\n  var value = localStorage.getItem('bookName');\n  return value;\n}\n\nfunction getMyAuthor() {\n  var value = localStorage.getItem('bookAuthor');\n  return value;\n}\n\nfunction getMyAbout() {\n  var value = localStorage.getItem('bookAbout');\n  return value;\n}\n\nvar circles = 1500;\nvar goldenRatio = (Math.sqrt(5) + 1) / 2 + 3;\nvar goldenAngle = goldenRatio * (33 + Math.PI);\n\nfunction drawColoredRandomShape(p, choice) {\n  x = p.random(p.width);\n  y = p.random(p.height);\n  w = p.random(200, 400);\n  h = p.random(5, 100);\n  var myColour = p.color(102, p.random(255), 209);\n\n  if (choice == 'ellipse') {\n    p.fill(myColour);\n    p.noStroke();\n    p.ellipse(x, y, w, w);\n  } else {\n    p.noStroke();\n    p.fill(myColour);\n    p.rect(x, y, w, h);\n  }\n}\n\nfunction drawInvertedRandomShape(p, choice) {\n  x = p.random(p.width);\n  y = p.random(p.height);\n  w = p.random(200, 400);\n  h = p.random(5, 100);\n\n  if (choice == 'ellipse') {\n    p.fill(210);\n    p.noStroke();\n    p.ellipse(x, y, w, w);\n  } else {\n    p.noStroke();\n    p.fill(210);\n    p.rect(x, y, w, h);\n  }\n}\n\nvar left = function sketch(p) {\n  p.setup = function () {\n    var canvas = p.createCanvas(427.64, 593);\n    canvas.parent(canvasContainerId1);\n    var i = 0;\n    p.background(black);\n    p.frameRate(1);\n    preload(p);\n    p.background(0, 0, 0, 100);\n    p.noStroke();\n\n    for (var x = 0; x < p.width; x += p.random(2, 5)) {\n      for (var y = 0; y < p.height; y += p.random(2, 5)) {\n        var c = 255 * p.noise(0.01 * x, 0.01 * y);\n        p.fill(p.random(255), c, c);\n        p.rect(x, y, 2, 2);\n      }\n    }\n\n    p.fill(22);\n    p.rect(92, 136, 242, 336);\n  };\n\n  p.draw = function () {\n    p.textFont(myFont);\n    p.textSize(100);\n\n    for (var i = 0; i < 10; i++) {\n      p.push();\n      p.fill(22);\n      p.translate(p.random(p.width), p.random(p.height));\n      p.rotate(p.random(2 * p.PI));\n      p.text(getMyAuthor(), 0, 0);\n      p.pop();\n    }\n\n    p.textSize(12);\n    p.textFont(myFont);\n    p.fill(white);\n    p.text(getMyAbout(), 104, 160, 225);\n\n    p.draw = function () {\n      if (getStoreShift()) {\n        p.background(210);\n\n        for (var x = 30; x < p.width; x += p.width / 7) {\n          for (var y = 50; y < p.height; y += p.height / 7) {\n            p.stroke(0);\n            p.strokeWeight(1);\n            p.line(x, 50, x, p.height - 36);\n            p.line(30, y, p.width - 32, y);\n          }\n        }\n\n        p.stroke(255, 50);\n\n        for (var i = 0; i < totalShapeCount; i++) {\n          drawColoredRandomShape(p, 'rectangle');\n        }\n\n        p.stroke(0, 50);\n\n        for (var i = 0; i < totalShapeCount; i++) {\n          drawColoredRandomShape(p, 'ellipse');\n        }\n\n        p.fill(210);\n        p.stroke(0);\n        p.strokeWeight(1);\n        p.rect(91, 135, 244, 338);\n        p.textSize(12);\n        p.textFont(myFont);\n        p.fill(0);\n        p.text(getMyAbout(), 104, 160, 240);\n      }\n\n      if (getStoreEffect()) {\n        p.background(30);\n\n        for (var x = 30; x < p.width; x += p.width / 7) {\n          for (var y = 50; y < p.height; y += p.height / 7) {\n            p.stroke(210);\n            p.strokeWeight(1);\n            p.line(x, 50, x, p.height - 36);\n            p.line(30, y, p.width - 32, y);\n          }\n        }\n\n        p.stroke(255, 50);\n\n        for (var i = 0; i < totalShapeCount; i++) {\n          drawInvertedRandomShape(p, 'rectangle');\n        }\n\n        p.stroke(0, 50);\n\n        for (var i = 0; i < totalShapeCount; i++) {\n          drawInvertedRandomShape(p, 'ellipse');\n        }\n\n        p.fill(30);\n        p.rect(92, 136, 242, 336);\n        p.textSize(12);\n        p.textFont(myFont);\n        p.fill(210);\n        p.text(getMyAbout(), 104, 160, 240);\n      }\n\n      if (getStoreSave()) {\n        new Promise(function (resolve, reject) {\n          p.frameRate(0);\n          resolve();\n          console.log('resolved');\n        });\n        console.log('second');\n        p.saveCanvas('right', 'jpg');\n      }\n    };\n  };\n};\n\nvar right = function sketch(p) {\n  p.setup = function () {\n    var canvas = p.createCanvas(427.64, 593);\n    canvas.parent(canvasContainerId3);\n    var i = 0;\n    p.background(black);\n    p.frameRate(1);\n    p.background(0, 0, 0, 100);\n    p.noStroke();\n\n    for (var x = 0; x < p.width; x += p.random(2, 5)) {\n      for (var y = 0; y < p.height; y += p.random(2, 5)) {\n        var c = 255 * p.noise(0.01 * x, 0.01 * y);\n        p.fill(p.random(255), c, c);\n        p.rect(x, y, 2, 2);\n      }\n    }\n  };\n\n  p.draw = function () {\n    // p.textSize(12)\n    // p.textFont(myFont)\n    // p.fill(0)\n    // p.text(getMyAbout(), 30, 30, 360)\n    p.textFont(myFont);\n    p.textSize(100);\n\n    for (var i = 0; i < 10; i++) {\n      p.push();\n      p.fill(22);\n      p.translate(p.random(p.width), p.random(p.height));\n      p.rotate(p.random(2 * p.PI));\n      p.text(getMyData(), 0, 0);\n      p.pop();\n    }\n\n    p.draw = function () {\n      if (getStoreShift()) {\n        p.background(210);\n\n        for (var x = 30; x < p.width; x += p.width / 7) {\n          for (var y = 50; y < p.height; y += p.height / 7) {\n            p.stroke(0);\n            p.strokeWeight(1);\n            p.line(x, 50, x, p.height - 36);\n            p.line(30, y, p.width - 32, y);\n          }\n        }\n\n        p.stroke(255, 50);\n\n        for (var i = 0; i < totalShapeCount; i++) {\n          drawColoredRandomShape(p, 'rectangle');\n        }\n\n        p.stroke(0, 50);\n\n        for (var i = 0; i < totalShapeCount; i++) {\n          drawColoredRandomShape(p, 'ellipse');\n        }\n\n        p.fill(210);\n        p.stroke(0);\n        p.strokeWeight(1);\n        p.rect(91, 135, 244, 338);\n        p.textSize(12);\n        p.textFont(myFont);\n        p.fill(0);\n        p.text(getMyAbout(), 104, 160, 240);\n      }\n\n      if (getStoreEffect()) {\n        p.background(30);\n\n        for (var x = 30; x < p.width; x += p.width / 7) {\n          for (var y = 50; y < p.height; y += p.height / 7) {\n            p.stroke(210);\n            p.strokeWeight(1);\n            p.line(x, 50, x, p.height - 36);\n            p.line(30, y, p.width - 32, y);\n          }\n        }\n\n        p.stroke(255, 50);\n\n        for (var i = 0; i < totalShapeCount; i++) {\n          drawInvertedRandomShape(p, 'rectangle');\n        }\n\n        p.stroke(0, 50);\n\n        for (var i = 0; i < totalShapeCount; i++) {\n          drawInvertedRandomShape(p, 'ellipse');\n        }\n\n        p.fill(30);\n        p.rect(92, 136, 242, 336);\n        p.textSize(12);\n        p.textFont(myFont);\n        p.fill(210);\n        p.text(getMyAbout(), 104, 160, 240);\n      }\n\n      if (getStoreSave()) {\n        new Promise(function (resolve, reject) {\n          p.frameRate(0);\n          resolve();\n          console.log('resolved');\n        });\n        console.log('second');\n        p.saveCanvas('right', 'jpg');\n      }\n    };\n  };\n};\n\nvar center = function sketch(p) {\n  p.setup = function () {\n    var canvas = p.createCanvas(38.04, 593);\n    canvas.parent(canvasContainerId2);\n    var i = 0;\n    p.background(black);\n    p.frameRate(1);\n    p.background(0, 0, 0, 100);\n    p.noStroke();\n\n    for (var x = 0; x < p.width; x += p.random(2, 5)) {\n      for (var y = 0; y < p.height; y += p.random(2, 5)) {\n        var c = 255 * p.noise(0.01 * x, 0.01 * y);\n        p.fill(p.random(255), c, c);\n        p.rect(x, y, 2, 2);\n      }\n    } // let pos = p.createVector(214, 360)\n    // let circle_rad = 300\n    // let spiral = p.createVector(\n    //   p.map(p.mouseX, 0, p.width, 0.003, 0.005),\n    //   p.map(p.mouseY, 0, p.height, 0.003, 0.005)\n    // )\n    // p.fill(myR, myG, myB)\n    // for (let i = 0; i <= circles; ++i) {\n    //   let r = spiral.x * i\n    //   let ratio = i / circles\n    //   let angle = i * goldenAngle\n    //   let spiral_rad = ratio * circle_rad\n    //   let x = pos.x + p.cos(angle) * spiral_rad\n    //   let y = pos.y + p.sin(angle) * spiral_rad\n    //   p.noStroke()\n    //   p.ellipse(x, y, r)\n    // }\n    // p.fill(white)\n    // p.noStroke()\n    // p.rect(0, 0, 427.64, 155)\n\n  };\n\n  p.draw = function () {\n    if (getStoreShift()) {\n      var myColour = p.color(102, p.random(255), 209);\n      p.background(myColour);\n    }\n\n    if (getStoreEffect()) {\n      p.background(30);\n    }\n\n    if (getStoreSave()) {\n      new Promise(function (resolve, reject) {\n        p.frameRate(0);\n        resolve();\n        console.log('resolved');\n      });\n      console.log('second');\n      p.saveCanvas('center', 'jpg');\n    }\n  };\n};\n\nfunction initSketch(id1, id2, id3) {\n  canvasContainerId1 = id1;\n  canvasContainerId2 = id2;\n  canvasContainerId3 = id3;\n  new p5(left);\n  new p5(center);\n  new p5(right);\n}\n\nexport { initSketch };","map":{"version":3,"names":["p5","getStoreShift","getStoreEnthropy","getStoreEffect","getStoreSave","getStoreName","getRandomArbitrary","myFontUrl","myFont","preload","p","loadFont","myR","myG","myB","canvasContainerId1","canvasContainerId2","canvasContainerId3","x","y","w","h","totalShapeCount","black","white","getMyData","value","localStorage","getItem","getMyAuthor","getMyAbout","circles","goldenRatio","Math","sqrt","goldenAngle","PI","drawColoredRandomShape","choice","random","width","height","myColour","color","fill","noStroke","ellipse","rect","drawInvertedRandomShape","left","sketch","setup","canvas","createCanvas","parent","i","background","frameRate","c","noise","draw","textFont","textSize","push","translate","rotate","text","pop","stroke","strokeWeight","line","Promise","resolve","reject","console","log","saveCanvas","right","center","initSketch","id1","id2","id3"],"sources":["/Users/daria/Documents/MySynth copy/app/javascript/prototypes/prototype_45/sketch.js"],"sourcesContent":["import p5 from 'p5'\nimport {\n  getStoreShift,\n  getStoreEnthropy,\n  getStoreEffect,\n  getStoreSave,\n  getStoreName\n} from './store'\nimport { getRandomArbitrary } from '../utilities'\n\nimport myFontUrl from '../../../assets/fonts/MT.ttf'\n\nlet myFont\nfunction preload(p) {\n  myFont = p.loadFont(myFontUrl)\n}\n\nlet myR = getRandomArbitrary(0, 255)\nlet myG = getRandomArbitrary(0, 255)\nlet myB = getRandomArbitrary(0, 255)\n\nlet canvasContainerId1 = ''\nlet canvasContainerId2 = ''\nlet canvasContainerId3 = ''\nvar x, y, w, h\nvar totalShapeCount = 3\nvar black = 30\nvar white = 210\n\nfunction getMyData() {\n  let value = localStorage.getItem('bookName')\n  return value\n}\nfunction getMyAuthor() {\n  let value = localStorage.getItem('bookAuthor')\n  return value\n}\nfunction getMyAbout() {\n  let value = localStorage.getItem('bookAbout')\n  return value\n}\n\nlet circles = 1500\nlet goldenRatio = (Math.sqrt(5) + 1) / 2 + 3\nlet goldenAngle = goldenRatio * (33 + Math.PI)\n\nfunction drawColoredRandomShape(p, choice) {\n  x = p.random(p.width)\n  y = p.random(p.height)\n  w = p.random(200, 400)\n  h = p.random(5, 100)\n  let myColour = p.color(102, p.random(255), 209)\n\n  if (choice == 'ellipse') {\n    p.fill(myColour)\n    p.noStroke()\n    p.ellipse(x, y, w, w)\n  } else {\n    p.noStroke()\n    p.fill(myColour)\n    p.rect(x, y, w, h)\n  }\n}\n\nfunction drawInvertedRandomShape(p, choice) {\n  x = p.random(p.width)\n  y = p.random(p.height)\n  w = p.random(200, 400)\n  h = p.random(5, 100)\n\n  if (choice == 'ellipse') {\n    p.fill(210)\n    p.noStroke()\n    p.ellipse(x, y, w, w)\n  } else {\n    p.noStroke()\n    p.fill(210)\n    p.rect(x, y, w, h)\n  }\n}\n\nconst left = function sketch(p) {\n  p.setup = () => {\n    const canvas = p.createCanvas(427.64, 593)\n    canvas.parent(canvasContainerId1)\n    let i = 0\n    p.background(black)\n    p.frameRate(1)\n    preload(p)\n\n    p.background(0, 0, 0, 100)\n    p.noStroke()\n\n    for (var x = 0; x < p.width; x += p.random(2, 5)) {\n      for (var y = 0; y < p.height; y += p.random(2, 5)) {\n        var c = 255 * p.noise(0.01 * x, 0.01 * y)\n        p.fill(p.random(255), c, c)\n        p.rect(x, y, 2, 2)\n      }\n    }\n\n    p.fill(22)\n    p.rect(92, 136, 242, 336)\n  }\n\n  p.draw = () => { \n    p.textFont(myFont)\n    p.textSize(100)\n    for (let i = 0; i < 10; i++) {\n      p.push();\n      p.fill(22);\n      p.translate(p.random(p.width), p.random(p.height));\n      p.rotate(p.random(2 * p.PI));\n      p.text(getMyAuthor(), 0, 0);\n      p.pop();\n    }\n\n    p.textSize(12)\n    p.textFont(myFont)\n    p.fill(white)\n    p.text(getMyAbout(), 104, 160, 225)\n\n    p.draw = () => {\n      if (getStoreShift()) {\n        p.background(210)\n\n        for (var x = 30; x < p.width; x += p.width / 7) {\n          for (var y = 50; y < p.height; y += p.height / 7) {\n            p.stroke(0)\n            p.strokeWeight(1)\n            p.line(x, 50, x, p.height - 36)\n            p.line(30, y, p.width - 32, y)\n          }\n        }\n\n        p.stroke(255, 50)\n        for (var i = 0; i < totalShapeCount; i++) {\n          drawColoredRandomShape(p, 'rectangle')\n        }\n\n        p.stroke(0, 50)\n        for (var i = 0; i < totalShapeCount; i++) {\n          drawColoredRandomShape(p, 'ellipse')\n        }\n\n        p.fill(210)\n        p.stroke(0)\n        p.strokeWeight(1)\n        p.rect(91, 135, 244, 338)\n\n        p.textSize(12)\n        p.textFont(myFont)\n        p.fill(0)\n        p.text(getMyAbout(), 104, 160, 240)\n      }\n\n      if (getStoreEffect()) {\n        p.background(30)\n        for (var x = 30; x < p.width; x += p.width / 7) {\n          for (var y = 50; y < p.height; y += p.height / 7) {\n            p.stroke(210)\n            p.strokeWeight(1)\n            p.line(x, 50, x, p.height - 36)\n            p.line(30, y, p.width - 32, y)\n          }\n        }\n\n        p.stroke(255, 50)\n        for (var i = 0; i < totalShapeCount; i++) {\n          drawInvertedRandomShape(p, 'rectangle')\n        }\n\n        p.stroke(0, 50)\n        for (var i = 0; i < totalShapeCount; i++) {\n          drawInvertedRandomShape(p, 'ellipse')\n        }\n\n        p.fill(30)\n        p.rect(92, 136, 242, 336)\n\n        p.textSize(12)\n        p.textFont(myFont)\n        p.fill(210)\n        p.text(getMyAbout(), 104, 160, 240)\n      }\n\n      if (getStoreSave()) {\n        new Promise((resolve, reject) => {\n          p.frameRate(0)\n          resolve()\n          console.log('resolved')\n        })\n        console.log('second')\n        p.saveCanvas('right', 'jpg')\n      }\n    }\n  }\n}\n\nconst right = function sketch(p) {\n  p.setup = () => {\n    const canvas = p.createCanvas(427.64, 593)\n    canvas.parent(canvasContainerId3)\n    let i = 0\n    p.background(black)\n    p.frameRate(1)\n\n    p.background(0, 0, 0, 100)\n    p.noStroke()\n\n    for (var x = 0; x < p.width; x += p.random(2, 5)) {\n      for (var y = 0; y < p.height; y += p.random(2, 5)) {\n        var c = 255 * p.noise(0.01 * x, 0.01 * y)\n        p.fill(p.random(255), c, c)\n        p.rect(x, y, 2, 2)\n      }\n    }\n  }\n\n  p.draw = () => {\n    // p.textSize(12)\n    // p.textFont(myFont)\n    // p.fill(0)\n    // p.text(getMyAbout(), 30, 30, 360)\n\n    p.textFont(myFont)\n    p.textSize(100)\n    for (let i = 0; i < 10; i++) {\n      p.push();\n      p.fill(22);\n      p.translate(p.random(p.width), p.random(p.height));\n      p.rotate(p.random(2 * p.PI));\n      p.text(getMyData(), 0, 0);\n      p.pop();\n    }\n\n    p.draw = () => {\n      if (getStoreShift()) {\n        p.background(210)\n\n        for (var x = 30; x < p.width; x += p.width / 7) {\n          for (var y = 50; y < p.height; y += p.height / 7) {\n            p.stroke(0)\n            p.strokeWeight(1)\n            p.line(x, 50, x, p.height - 36)\n            p.line(30, y, p.width - 32, y)\n          }\n        }\n\n        p.stroke(255, 50)\n        for (var i = 0; i < totalShapeCount; i++) {\n          drawColoredRandomShape(p, 'rectangle')\n        }\n\n        p.stroke(0, 50)\n        for (var i = 0; i < totalShapeCount; i++) {\n          drawColoredRandomShape(p, 'ellipse')\n        }\n\n        p.fill(210)\n        p.stroke(0)\n        p.strokeWeight(1)\n        p.rect(91, 135, 244, 338)\n\n        p.textSize(12)\n        p.textFont(myFont)\n        p.fill(0)\n        p.text(getMyAbout(), 104, 160, 240)\n      }\n\n      if (getStoreEffect()) {\n        p.background(30)\n        for (var x = 30; x < p.width; x += p.width / 7) {\n          for (var y = 50; y < p.height; y += p.height / 7) {\n            p.stroke(210)\n            p.strokeWeight(1)\n            p.line(x, 50, x, p.height - 36)\n            p.line(30, y, p.width - 32, y)\n          }\n        }\n\n        p.stroke(255, 50)\n        for (var i = 0; i < totalShapeCount; i++) {\n          drawInvertedRandomShape(p, 'rectangle')\n        }\n\n        p.stroke(0, 50)\n        for (var i = 0; i < totalShapeCount; i++) {\n          drawInvertedRandomShape(p, 'ellipse')\n        }\n\n        p.fill(30)\n        p.rect(92, 136, 242, 336)\n\n        p.textSize(12)\n        p.textFont(myFont)\n        p.fill(210)\n        p.text(getMyAbout(), 104, 160, 240)\n      }\n\n      if (getStoreSave()) {\n        new Promise((resolve, reject) => {\n          p.frameRate(0)\n          resolve()\n          console.log('resolved')\n        })\n        console.log('second')\n        p.saveCanvas('right', 'jpg')\n      }\n    }\n  }\n}\n\nconst center = function sketch(p) {\n  p.setup = () => {\n    const canvas = p.createCanvas(38.04, 593)\n    canvas.parent(canvasContainerId2)\n    let i = 0\n    p.background(black)\n    p.frameRate(1)\n\n    p.background(0, 0, 0, 100)\n    p.noStroke()\n\n    for (var x = 0; x < p.width; x += p.random(2, 5)) {\n      for (var y = 0; y < p.height; y += p.random(2, 5)) {\n        var c = 255 * p.noise(0.01 * x, 0.01 * y)\n        p.fill(p.random(255), c, c)\n        p.rect(x, y, 2, 2)\n      }\n    }\n\n    // let pos = p.createVector(214, 360)\n    // let circle_rad = 300\n    // let spiral = p.createVector(\n    //   p.map(p.mouseX, 0, p.width, 0.003, 0.005),\n    //   p.map(p.mouseY, 0, p.height, 0.003, 0.005)\n    // )\n    // p.fill(myR, myG, myB)\n    // for (let i = 0; i <= circles; ++i) {\n    //   let r = spiral.x * i\n    //   let ratio = i / circles\n    //   let angle = i * goldenAngle\n    //   let spiral_rad = ratio * circle_rad\n    //   let x = pos.x + p.cos(angle) * spiral_rad\n    //   let y = pos.y + p.sin(angle) * spiral_rad\n    //   p.noStroke()\n    //   p.ellipse(x, y, r)\n    // }\n\n    // p.fill(white)\n    // p.noStroke()\n    // p.rect(0, 0, 427.64, 155)\n  }\n\n  p.draw = () => {\n    if (getStoreShift()) {\n      let myColour = p.color(102, p.random(255), 209)\n      p.background(myColour)\n    }\n    if (getStoreEffect()) {\n      p.background(30)\n    }\n    if (getStoreSave()) {\n      new Promise((resolve, reject) => {\n        p.frameRate(0)\n        resolve()\n        console.log('resolved')\n      })\n      console.log('second')\n      p.saveCanvas('center', 'jpg')\n    }\n  }\n}\n\nfunction initSketch(id1, id2, id3) {\n  canvasContainerId1 = id1\n  canvasContainerId2 = id2\n  canvasContainerId3 = id3\n  new p5(left)\n  new p5(center)\n  new p5(right)\n}\n\nexport { initSketch }\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}